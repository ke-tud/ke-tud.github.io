


<!DOCTYPE html PUBLIC
  "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">

  
    
    
    
    


  <head>

    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />

    <meta name="generator" content="Plone - http://plone.org" />

    
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />

    
      <base href="" /><!--[if lt IE 7]></base><![endif]-->
    

    
        <meta content="Very preliminary site with modification for LibSVM in order to enable efficient support for multilabel data" name="description" />

  
    <link rel="stylesheet" type="text/css" media="screen" href="../../portal_css/KE-Design/reset-cachekey-925e503538eefe397b99ef02d65af339.css" />
    <style type="text/css" media="screen">@import url(../../portal_css/KE-Design/base-cachekey-03153797b47b0a3cc7f99250afe8cedd.css);</style>
    <link rel="stylesheet" type="text/css" media="screen" href="../../portal_css/KE-Design/resourcetinymce.stylesheetstinymce-cachekey-5af329a435a47b3692ec346792a15c82.css" />
    <style type="text/css">@import url(../../portal_css/KE-Design/print-cachekey-121643ccca6586bc2ccc938612dbcdbe.css);</style>
    <link rel="stylesheet" type="text/css" media="screen" href="../../portal_css/KE-Design/resourceplone.app.discussion.stylesheetsdiscussion-cachekey-a142adb07f80a3c80d0ffe3bd11c391d.css" />
    <style type="text/css" media="screen">@import url(../../portal_css/KE-Design/kedesign-cachekey-abe6dfb415b2c424ca38859c1cfa69ee.css);</style>
    <style type="text/css" media="screen">@import url(../../portal_css/KE-Design/JabRef.css);</style>
    <style type="text/css" media="all">@import url(../../portal_css/KE-Design/ploneCustom-cachekey-aba490f43e054b2e05eaab28d192fa09.css);</style>

  
  
    <script type="text/javascript" src="../../portal_javascripts/KE-Design/resourceplone.app.jquery-cachekey-0778f482fb7d0bbb4d2ec9c3b82f9e81.js"></script>
    <script type="text/javascript" src="../../portal_javascripts/KE-Design/cookie_manager-cachekey-4a290db816043754c78ba3a906f4556e.js"></script>
    <script type="text/javascript" src="../../portal_javascripts/KE-Design/Hyphenator-cachekey-671ea5ad93b7c7d3d115abde3ce0b6bb.js"></script>
    <script type="text/javascript" src="../../portal_javascripts/KE-Design/JabRef-cachekey-0a9b33f3f54aff6df349afab5dcd9f03.js"></script>


<title>Multilabel LibSVM modifications &mdash; </title>

        
    <link rel="canonical" href="../multilabellibsvm.html" />

    <link rel="shortcut icon" type="image/x-icon" href="../../favicon.ico" />
    <link rel="apple-touch-icon" href="../../touch_icon.png" />






    <link rel="search" href="http://www.ke.tu-darmstadt.de/@@search" title="Search this site" />



        <!-- Disable IE6 image toolbar -->
        <meta http-equiv="imagetoolbar" content="no" />

        
        

        
        

        
        

        
        
    

  </head>

  <body onload="setzeInitialeFontgroesse();" class="template-document_view portaltype-document site-Plone section-resources subsection-multilabellibsvm subsection-multilabellibsvm-index.html userrole-anonymous" dir="ltr">
    <div id="seiten_container">
    <div id="visual-portal-wrapper">

      <div id="header">
        <a name="top"></a>
        <div id="topnavigation">

         
   

    
        
            <a href="http://www.ke.tu-darmstadt.de/login" class="visualIconPadding">
               Log in
            </a>
        
    


</div>

<p class="hiddenStructure">
  <a accesskey="2" href="index.html#content">Skip to content.</a> |

  <a accesskey="6" href="index.html#portal-globalnav">Skip to navigation</a>
</p>

<div id="portal-header">
    <div id="portal-searchbox">
    <form name="searDDchform" action="../../search.html">

        <label for="searchGadget" class="hiddenStructure">Search Site</label>
        <div class="LSBox">
        <input name="SearchableText" type="text" title="Search Site" class="inputLabel" id="searchGadget" />
        <input class="searchButton" type="submit" value="»" />
       <div class="LSResult" id="LSResult" style=""><div class="LSShadow" id="LSShadow"></div></div>
        </div>
    </form>
</div>


  <div id="hauptnavigation">
    <ul>
      
        <li>
          <a href="../../index.html" class="" title="">Home</a> | 
        </li>
      
      
        <li>
          <a href="../../staff.html" class="" title="Knowledge Engineering Group Members and Jobs">Staff</a> | 
        </li>
      
      
        <li>
          <a href="../../jobs.html" class="" title="">Jobs</a> | 
        </li>
      
      
        <li>
          <a href="../../news.html" class="" title="Latest news from the Knowledge Engineering Group">News</a> | 
        </li>
      
      
        <li>
          <a href="../../termine.html" class="" title="Upcoming events from the Knowledge Engineering Group">Termine</a> | 
        </li>
      
      
        <li>
          <a href="../../publications.html" class="" title="">Publications</a> | 
        </li>
      
      
        <li>
          <a href="../../projects.html" class="" title="Projects with participation of our group">Projects</a> | 
        </li>
      
      
        <li>
          <a href="../../research.html" class="" title="">Research</a> | 
        </li>
      
      
        <li>
          <a href="../../resources.html" class="aktiv" title="Datasets, applications, tools and other resources publicly provided by the KE Group.">Resources</a> | 
        </li>
      
      
        <li>
          <a href="../../lehre.html" class="" title="Lehrveranstaltungen und studentische Arbeiten">Lehre</a> | 
        </li>
      
      
        <li>
          <a href="lehre/arbeiten.html" class="" title="Link auf https://www.ke.tu-darmstadt.de/lehre/arbeiten">Thesis Topics</a> | 
        </li>
      
      
        <li>
          <a href="http://www.informatik.tu-darmstadt.de" class="" title="Fachbereich Informatik, TU Darmstadt">FB20</a> | 
        </li>
      
    </ul>
  </div>    
  <div class="clear"></div>




</div>


<div id="headerbild_container">	
	<div id="logo">
		<div id="bildschirm">
			<a href="http://www.tu-darmstadt.de" title="Zur TU Darmstadt Startseite">
                              <img src="../../tu_darmstadt_web.png" alt="Logo der TU Darmstadt" />
                        </a>
		</div>	
	</div>
		<div id="headerbild"> <img src="../../ke_site_header.jpg" alt="" /> </div>
</div>


<div id="portal-breadcrumbs">
    <a href="../../index.html">Home
    </a>
    
      <span class="breadcrumbSeparator navi_pfeil">&raquo;</span>
        
            <a href="../../resources.html">Resources</a>
            
         
    
    
      <span class="breadcrumbSeparator navi_pfeil">&raquo;</span>
        
            
            <span class="aktiv">Multilabel LibSVM modifications</span>
         
    

</div>

      </div>

      <div id="portal-columns">
            
                
                <div id="portal-column-one">
                    
                      
<div class="portletWrapper" data-portlethash="706c6f6e652e6c656674636f6c756d6e0a636f6e746578740a2f506c6f6e650a6e617669676174696f6e" id="portletwrapper-706c6f6e652e6c656674636f6c756d6e0a636f6e746578740a2f506c6f6e650a6e617669676174696f6e">
<div id="navigationsspalte" class="portlet portletNavigationTree">    
    <dl style="margin-bottom:0em">
    <dt class="portletHeader">
    <!--<span class="portletHeader">-->
    <span class="portletTopLeft"></span>
        
        <span class="portletTopRight"></span>
   <!-- </span> -->
    </dt>
    </dl>
    <ul>
      
            



<li>

    

      

        <a href="../../staff.html" class=" ebene1" title="Knowledge Engineering Group Members and Jobs">
            

            

            <span class="hat_untermenue">
                  <img src="../../untermenue.gif" alt="Untermenue" /> 
            </span>
           
            Staff
        </a>
        
    

    
    
</li>


<li>

    

      

        <a href="../../jobs.html" class=" ebene1" title="">
            

            

            
           
            Jobs
        </a>
        
    

    
    
</li>


<li>

    

      

        <a href="../../news.html" class=" ebene1" title="Latest news from the Knowledge Engineering Group">
            

            

            <span class="hat_untermenue">
                  <img src="../../untermenue.gif" alt="Untermenue" /> 
            </span>
           
            News
        </a>
        
    

    
    
</li>


<li>

    

      

        <a href="../../termine.html" class=" ebene1" title="Upcoming events from the Knowledge Engineering Group">
            

            

            <span class="hat_untermenue">
                  <img src="../../untermenue.gif" alt="Untermenue" /> 
            </span>
           
            Termine
        </a>
        
    

    
    
</li>


<li>

    

      

        <a href="../../publications.html" class=" ebene1" title="">
            

            

            <span class="hat_untermenue">
                  <img src="../../untermenue.gif" alt="Untermenue" /> 
            </span>
           
            Publications
        </a>
        
    

    
    
</li>


<li>

    

      

        <a href="../../projects.html" class=" ebene1" title="Projects with participation of our group">
            

            

            <span class="hat_untermenue">
                  <img src="../../untermenue.gif" alt="Untermenue" /> 
            </span>
           
            Projects
        </a>
        
    

    
    
</li>


<li>

    

      

        <a href="../../research.html" class=" ebene1" title="">
            

            

            
           
            Research
        </a>
        
    

    
    
</li>


<li>

    

      

        <a href="../../resources.html" class=" aktiv ebene1" title="Datasets, applications, tools and other resources publicly provided by the KE Group.">
            

            

            <span class="hat_untermenue">
                  <img src="../../untermenue.gif" alt="Untermenue" /> 
            </span>
           
            Resources
        </a>
        
    

    <ul>  
        



<li>

    

      

        <a href="../eurlex.html" class=" ebene2" title="The EUR-Lex multilabel text collection.">
            

            

            <span class="hat_untermenue">
                  <img src="../../untermenue.gif" alt="Untermenue" /> 
            </span>
           
            EUR-Lex
        </a>
        
    

    
    
</li>


<li>

    

      

        <a href="../ui2-ontology.html" class=" ebene2" title="">
            

            

            <span class="hat_untermenue">
                  <img src="../../untermenue.gif" alt="Untermenue" /> 
            </span>
           
            UI² Ontology
        </a>
        
    

    
    
</li>


<li>

    

      

        <a href="../poker.html" class=" ebene2" title="">
            

            

            <span class="hat_untermenue">
                  <img src="../../untermenue.gif" alt="Untermenue" /> 
            </span>
           
            Computer Poker
        </a>
        
    

    
    
</li>


<li>

    

      

        <a href="../pool.html" class=" ebene2" title="Informationen für Gäste und Studenten des Fachgebiets Knowledge Engineering">
            

            

            
           
            Students Computer Pool
        </a>
        
    

    
    
</li>


<li>

    

      

        <a href="../ComputingCluster.html" class=" ebene2" title="">
            

            

            
           
            Students Computing Infrastructure
        </a>
        
    

    
    
</li>


<li>

    

      

        <a href="http://www.ke.tu-darmstadt.de/resources/peewit" class=" ebene2" title="">
            

            

            <span class="hat_untermenue">
                  <img src="../../untermenue.gif" alt="Untermenue" /> 
            </span>
           
            Peewit
        </a>
        
    

    
    
</li>


<li>

    

      

        <a href="../classificationgui.html" class=" ebene2" title="">
            

            

            <span class="hat_untermenue">
                  <img src="../../untermenue.gif" alt="Untermenue" /> 
            </span>
           
            Classification GUI
        </a>
        
    

    
    
</li>


<li>

    

      

        <a href="../fegelod.html" class=" ebene2" title="">
            

            

            <span class="hat_untermenue">
                  <img src="../../untermenue.gif" alt="Untermenue" /> 
            </span>
           
            FeGeLOD
        </a>
        
    

    
    
</li>


<li>

    

      

        <a href="../explain-a-lod.html" class=" ebene2" title="">
            

            

            <span class="hat_untermenue">
                  <img src="../../untermenue.gif" alt="Untermenue" /> 
            </span>
           
            Explain-a-LOD
        </a>
        
    

    
    
</li>


<li>

    

      

        <a href="../SeCo.html" class=" ebene2" title="">
            

            

            <span class="hat_untermenue">
                  <img src="../../untermenue.gif" alt="Untermenue" /> 
            </span>
           
            SeCo
        </a>
        
    

    
    
</li>


<li>

    

      

        <a href="../perceptrovement.html" class=" ebene2" title="Percepton algorithms collection">
            

            

            
           
            Perceptrovement
        </a>
        
    

    
    
</li>


<li>

    

      

        <a href="../mob4lod.html" class=" ebene2" title="">
            

            

            <span class="hat_untermenue">
                  <img src="../../untermenue.gif" alt="Untermenue" /> 
            </span>
           
            MoB4LOD
        </a>
        
    

    
    
</li>


<li>

    

      

        <a href="../ontology-matching.html" class=" ebene2" title="">
            

            

            <span class="hat_untermenue">
                  <img src="../../untermenue.gif" alt="Untermenue" /> 
            </span>
           
            Ontology Matching
        </a>
        
    

    
    
</li>


<li>

    

      

        <a href="../jfreewebsearch.html" class=" ebene2" title="">
            

            

            <span class="hat_untermenue">
                  <img src="../../untermenue.gif" alt="Untermenue" /> 
            </span>
           
            JFreeWebSearch
        </a>
        
    

    
    
</li>


<li>

    

      

        <a href="../multilabellibsvm.html" class=" aktiv ebene2" title="">
            

            <span class="navi_pfeil">
                  &raquo;
            </span>

            
           
            Multilabel LibSVM modifications
        </a>
        
    

    
    
</li>


<li>

    

      

        <a href="../GMLC.html" class=" ebene2" title="">
            

            

            <span class="hat_untermenue">
                  <img src="../../untermenue.gif" alt="Untermenue" /> 
            </span>
           
            Code and Data for Graded Multilabel Classification
        </a>
        
    

    
    
</li>


<li>

    

      

        <a href="../conferences.html" class=" ebene2" title="">
            

            

            
           
            Conferences
        </a>
        
    

    
    
</li>


<li>

    

      

        <a href="../copy_of_conferences.html" class=" ebene2" title="">
            

            

            
           
            Workshops
        </a>
        
    

    
    
</li>


<li>

    

      

        <a href="../medsim.html" class=" ebene2" title="">
            

            

            <span class="hat_untermenue">
                  <img src="../../untermenue.gif" alt="Untermenue" /> 
            </span>
           
            Medical Concept Embeddings via Labeled Background Corpora
        </a>
        
    

    
    
</li>


<li>

    

      

        <a href="../poogle.html" class=" ebene2" title="Poodle: Personalized privacy-protecting web search">
            

            

            <span class="hat_untermenue">
                  <img src="../../untermenue.gif" alt="Untermenue" /> 
            </span>
           
            Poodle
        </a>
        
    

    
    
</li>




    </ul>
    
</li>


<li>

    

      

        <a href="../../lehre.html" class=" ebene1" title="Lehrveranstaltungen und studentische Arbeiten">
            

            

            <span class="hat_untermenue">
                  <img src="../../untermenue.gif" alt="Untermenue" /> 
            </span>
           
            Lehre
        </a>
        
    

    
    
</li>


<li>

    

      

        <a href="lehre/arbeiten.html" class=" ebene1" title="Link auf https://www.ke.tu-darmstadt.de/lehre/arbeiten">
            

            

            
           
            Thesis Topics
        </a>
        
    

    
    
</li>


<li>

    

      

        <a href="http://www.informatik.tu-darmstadt.de" class=" ebene1" title="Fachbereich Informatik, TU Darmstadt">
            

            

            
           
            FB20
        </a>
        
    

    
    
</li>




        </ul>

</div>

</div>

<div class="portletWrapper" data-portlethash="706c6f6e652e6c656674636f6c756d6e0a636f6e746578740a2f506c6f6e650a6e657773" id="portletwrapper-706c6f6e652e6c656674636f6c756d6e0a636f6e746578740a2f506c6f6e650a6e657773">
<dl class="portlet portletNews">

    <dt class="portletHeader">
        <span class="portletTopLeft"></span>
        <a href="../../news.html" class="tile">News</a>
        <span class="portletTopRight"></span>
    </dt>

    
    <dd class="portletItem odd">

        <a href="../../news/thesis-dang.html" class="tile" title="">
            
            The­sis on adaptive driver assistance systems de­fend­ed 
         </a>
            <span class="portletItemDetails">Feb 21, 2020</span>

    </dd>
    
    
    <dd class="portletItem even">

        <a href="../../news/DS2019.html" class="tile" title="">
            
            Best paper award at Discovery Science 2019
         </a>
            <span class="portletItemDetails">Oct 28, 2019</span>

    </dd>
    
    
    <dd class="portletItem odd">

        <a href="../../news/leaving.html" class="tile" title="">
            
            Leaving
         </a>
            <span class="portletItemDetails">Sep 23, 2019</span>

    </dd>
    
    
    <dd class="portletItem even">

        <a href="../../news/eseg-in-tv.html" class="tile" title="">
            
            Our project ESEG in the TV news
         </a>
            <span class="portletItemDetails">Jan 14, 2019</span>

    </dd>
    
    
    <dd class="portletItem odd">

        <a href="../../news/student-bot-beats-crazyhouse-champion.html" class="tile" title="">
            
            Student Bot beats Crazyhouse World Champion
         </a>
            <span class="portletItemDetails">Dec 27, 2018</span>

    </dd>
    

    <dd class="portletFooter">
        <span class="portletBottomLeft"></span>
        <a href="../../news.html">
          More news&hellip;
        </a>
        <span class="portletBottomRight"></span>
    </dd>
    
</dl>

</div>




                    
                    &nbsp;
                </div>
                
            

            
            <div id="portal-column-content" class="hyphenate">

              <div id="viewlet-above-content3"></div>
	      <div class="eine_spalte">
              
                <div class="">

                    

                    <span id="contentTopLeft3"></span>
                    <span id="contentTopRight3"></span>

                    

    <dl class="portalMessage info" id="kssPortalMessage" style="display:none">
        <dt>Info</dt>
        <dd></dd>
    </dl>



                    
                    <div id="content">
                      
                      

                        
                            
                            
                                
                                
            
                <h1 id="parent-fieldname-title" class="documentFirstHeading">
                    Multilabel LibSVM modifications
                </h1>
            
            
        
                            
                            


                            
                                
                                
            
                <div id="parent-fieldname-description" class="documentDescription">
                   Very preliminary site with modification for LibSVM in order to enable efficient support for multilabel data
                </div>
            
            
        
                            

                            


                            <div id="content-core">
                                
    
        
        <div class="" id="parent-fieldname-text-61455e0ec0474906af5b02db799b2db8">
            
<h2>Still to come</h2>
<ul><li>more detailed description<br /></li><li>full source code package<br /></li><li>interface for Mulan</li></ul>
<h2>Instructions</h2>
<p>In order to enable LibSVM to handle multilabel data, essentially you have only to do one modification: download the source code of the Java implementation of LibSVM and add the following two methods to svm.java in the package/directory libsvm, that's essentially it:</p>
<p><span class="fixedWidth">&nbsp; &nbsp; /**<br />&nbsp;&nbsp; &nbsp; * Training like in Eneldo Loza Mencia, Johannes Fürnkranz: Pairwise Learning of Multilabel Classifications with Perceptrons, IJCNN 2008<br />&nbsp;&nbsp; &nbsp; * This means that the classifiers are the same as for pairwise multiclass, and that we can use the normal prediction method<br />&nbsp;&nbsp; &nbsp; * If the calibration like in Johannes Fürnkranz, Eyke Hüllermeier, Eneldo Loza Mencía and Klaus Brinker, Multilabel Classification via Calibrated Label Ranking, Machine Learning Journal, 2008 is used, then the last label will be the virtual label.<br />&nbsp;&nbsp; &nbsp; * <br />&nbsp;&nbsp; &nbsp; * @param prob Training instances of the problem<br />&nbsp;&nbsp; &nbsp; * @param param Parameter of SVM and training<br />&nbsp;&nbsp; &nbsp; * @param yLabels an array[instanceID][numLabelsForInstance] containing the label indices the instance belongs to, same order as in prob.x and the label index begins at 0<br />&nbsp;&nbsp; &nbsp; * @param numLabels number of labels, so that we don't need to count. it's always the same amount, even if CLR or BR is applied (don't count the virtual label)<br />&nbsp;&nbsp; &nbsp; * @param normal0CLR1BR2 set 0 for normal pairwise learning, 1 for calibrated pairwise learning (CLR) and 2 for binary relevance (BR)<br />&nbsp;&nbsp; &nbsp; * @return the ("multiclass") pairwise model<br />&nbsp;&nbsp; &nbsp; */<br />&nbsp;&nbsp; &nbsp;public static svm_model svm_train_multilabel(svm_problem prob, svm_parameter param, int[][]yLabels, int numLabels, int normal0CLR1BR2)<br />&nbsp;&nbsp; &nbsp;{<br />&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;svm_model model = new svm_model();<br />&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;model.param = param;<br /><br />&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;if(normal0CLR1BR2==1 || normal0CLR1BR2==2){<br />&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;numLabels++; //include the virtual calibration label. for BR this is also achieved via using the calibrated label<br />&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;}<br />&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;<br />&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;// classification<br />&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;int l = prob.l;<br /><br />&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;int nr_class = numLabels; &nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;<br />&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;int[] label = new int[nr_class];<br />&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;for(int i=0;i&lt;nr_class;i++)<br />&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;label[i]=i+1; //FIXME: this may not be true<br />&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;svm_node[][] x = prob.x;<br />&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;int i;<br /><br />&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;//TODO: actually, C parameter and others should be computed on each sub-problem individually. So we should include parameter search here<br />&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;double[] weighted_C = new double[nr_class];<br />&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;for(i=0;i&lt;nr_class;i++)<br />&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;weighted_C[i] = param.C;<br />&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;for(i=0;i&lt;param.nr_weight;i++)<br />&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;{<br />&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;int j;<br />&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;for(j=0;j&lt;nr_class;j++)<br />&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;if(param.weight_label[i] == label[j])<br />&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;break;<br />&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;if(j == nr_class)<br />&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;System.err.print("warning: class label "+param.weight_label[i]+" specified in weight is not found\n");<br />&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;else<br />&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;weighted_C[j] *= param.weight[i];<br />&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;}<br /><br />&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;// train k*(k-1)/2 models<br /><br />&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;boolean[][] isSV = new boolean[nr_class][l];<br />&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;for(i=0;i&lt;nr_class;i++)<br />&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;Arrays.fill(isSV[i], false);<br />&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;decision_function[] f = new decision_function[nr_class*(nr_class-1)/2];<br /><br />&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;double[] probA=null,probB=null;<br />&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;if (param.probability == 1)<br />&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;{<br />&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;probA=new double[nr_class*(nr_class-1)/2];<br />&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;probB=new double[nr_class*(nr_class-1)/2];<br />&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;}<br />&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;<br />&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;int numSVs[]=new int[nr_class];<br />&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;Arrays.fill(numSVs, 0);<br />&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;int nnz = 0;<br />&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;double [][][] SVcoef=new double[nr_class][l][nr_class-1]; <br />&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;<br />&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;int p = 0;<br />&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;for(i=0;i&lt;nr_class;i++){<br />&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;for(int j=i+1;j&lt;nr_class;j++)<br />&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;{<br />&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;svm_problem sub_prob = new svm_problem();<br />&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;sub_prob.l=0;<br />&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;byte binaryLabel[]=new byte[l];<br />&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;for(int k=0;k&lt;l;k++){<br />&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;//if not BR, and then if normal mode, or (CLR, but the virtual label is not involved)<br />&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;if(normal0CLR1BR2!=2 &amp;&amp; (normal0CLR1BR2==0 || (normal0CLR1BR2==1 &amp;&amp; j!=nr_class-1))){<br />&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;if(isLabel(i,yLabels[k]) &amp;&amp; !isLabel(j,yLabels[k])){<br />&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;binaryLabel[k]=1;<br />&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;sub_prob.l++;<br />&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;}else if(!isLabel(i,yLabels[k]) &amp;&amp; isLabel(j,yLabels[k])){<br />&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;binaryLabel[k]=-1;<br />&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;sub_prob.l++;<br />&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;}else{<br />&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;binaryLabel[k]=0;<br />&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;}<br />&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;//clr modus and virtual label is involved. This corresponds to learning BR classifiers<br />&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;}else if((normal0CLR1BR2==1 || normal0CLR1BR2==2) &amp;&amp; j==nr_class-1){<br />&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;if(isLabel(i,yLabels[k])){<br />&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;binaryLabel[k]=1;<br />&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;sub_prob.l++;<br />&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;}else {//if(!isLabel(i,yLabels[k]))<br />&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;binaryLabel[k]=-1;<br />&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;sub_prob.l++;<br />&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;} //no else, all examples are added, either as positive or negative examples<br />&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;}<br />&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;}<br />&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;<br />&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;//build up the binary training set x and y<br />&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;<br />&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;sub_prob.x = new svm_node[sub_prob.l][];<br />&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;sub_prob.y = new double[sub_prob.l];<br />&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;int k2=0;<br />&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;for(int k=0;k&lt;l;k++){<br />&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;if(binaryLabel[k]!=0){<br />&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;//x[k] is the k-th example of the problem, but the k2-th example of the subproblem <br />&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;sub_prob.x[k2] = x[k];<br />&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;sub_prob.y[k2] = binaryLabel[k];<br />&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;k2++;<br />&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;}<br />&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;}<br /><br /><br />&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;if(param.probability == 1)<br />&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;{<br />&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;double[] probAB=new double[2];<br />&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;svm_binary_svc_probability(sub_prob,param,weighted_C[i],weighted_C[j],probAB);<br />&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;probA[p]=probAB[0];<br />&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;probB[p]=probAB[1];<br />&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;}<br /><br />&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;//train the binary svm classifier<br />&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;f[p] = svm_train_one(sub_prob,param,weighted_C[i],weighted_C[j]);<br /><br />&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;//info about the SVs<br />&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;k2=0;<br />&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;for(int k=0;k&lt;l;k++){<br />&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;if(binaryLabel[k]!=0){<br />&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;//x[k] is the k-th example of the problem, but the k2-th example of the subproblem<br />&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;double alpha=f[p].alpha[k2];<br />&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;if(Math.abs(alpha)&gt;0){<br />&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;if(binaryLabel[k]==1){<br />&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;if(!isSV[i][k]){<br />&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;isSV[i][k]=true;<br />&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;numSVs[i]++;<br />&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;nnz++;<br />&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;}<br />&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;SVcoef[i][k][j-1]=alpha;<br />&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;}else{ //if(isLabel(j,prob.y[k]))<br />&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;if(!isSV[j][k]){<br />&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;isSV[j][k]=true;<br />&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;numSVs[j]++;<br />&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;nnz++;<br />&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;}<br />&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;SVcoef[j][k][i]=alpha;<br />&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;}<br />&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;}<br />&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;k2++;<br />&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;}<br />&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;}<br />&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;<br /><br />&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;++p;<br />&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;}<br />&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;}<br />&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;<br /><br />&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;// build output and model<br /><br />&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;model.nr_class = nr_class;<br /><br />&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;model.label = new int[nr_class];<br />&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;for(i=0;i&lt;nr_class;i++)<br />&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;model.label[i] = label[i];<br /><br />&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;model.rho = new double[nr_class*(nr_class-1)/2];<br />&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;for(i=0;i&lt;nr_class*(nr_class-1)/2;i++)<br />&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;model.rho[i] = f[i].rho;<br /><br />&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;if(param.probability == 1)<br />&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;{<br />&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;model.probA = new double[nr_class*(nr_class-1)/2];<br />&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;model.probB = new double[nr_class*(nr_class-1)/2];<br />&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;for(i=0;i&lt;nr_class*(nr_class-1)/2;i++)<br />&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;{<br />&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;model.probA[i] = probA[i];<br />&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;model.probB[i] = probB[i];<br />&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;}<br />&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;}<br />&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;else<br />&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;{<br />&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;model.probA=null;<br />&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;model.probB=null;<br />&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;}<br /><br />//&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;int[] nz_count = new int[nr_class];<br />&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;model.nSV = numSVs;<br /><br />&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;svm.info("Total nSV = "+nnz+"\n");<br /><br />&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;model.l = nnz;<br />&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;model.SV = new svm_node[nnz][];<br />&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;model.sv_coef = new double[nr_class-1][nnz];<br />&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;p = 0;<br />&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;for(i=0;i&lt;nr_class;i++){<br />&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;for(int k=0;k&lt;l;k++){<br />&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;//go through the whole SV vector (numClass * numInstances) and add the instances as SV if they were SV<br />&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;if(isSV[i][k]){<br />//&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;model.SV[p] = SVs[i][k];<br />&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;model.SV[p] = x[k];<br />&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;//copy the coefficients too<br />&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;for(int j=0;j&lt;nr_class-1;j++){<br />&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;model.sv_coef[j][p]= SVcoef[i][k][j];<br />&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;}<br />&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;p++;<br />&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;}<br />&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;}<br />&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;}<br /><br /><br />&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;return model;<br />&nbsp;&nbsp; &nbsp;}<br /><br />&nbsp;&nbsp; &nbsp;public static boolean isLabel(int labelIndex, int[] labelArrayWithIndicesBeginningWithZero) {<br />&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;for(int i=0;i&lt;labelArrayWithIndicesBeginningWithZero.length;i++){<br />&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;if(labelArrayWithIndicesBeginningWithZero[i]==labelIndex)<br />&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;return true;<br />&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;}<br />&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;return false;<br />&nbsp;&nbsp; &nbsp;}<br /><br /></span></p>
<p>During prediction, just query svm_predict_values(svm_model model, svm_node[] x, double[] dec_values) and you will find the pairwise predictions in dec_values. Here is a little bit of code if you want to just use the robust full voting, but note that you may e.g. also use the pairwise coupling approach build in LibSVM.</p>
<p><span class="fixedWidth">&nbsp;&nbsp;&nbsp; public static double[] svm_predict_votevector(svm_model model, svm_node[] x)<br />&nbsp;&nbsp;&nbsp; {<br />&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; if(model.param.svm_type == svm_parameter.ONE_CLASS ||<br />&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp; model.param.svm_type == svm_parameter.EPSILON_SVR ||<br />&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp; model.param.svm_type == svm_parameter.NU_SVR)<br />&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; {<br />&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; System.err.println("Wrong modus for multilabel");<br />&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; return null;<br />&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; }<br />&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; else<br />&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; {<br />&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; int i;<br />&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; int nr_class = model.nr_class;<br />&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; int l = model.l;<br />&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; <br />&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; double[] kvalue = new double[l];<br />&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; for(i=0;i&lt;l;i++)<br />&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; kvalue[i] = Kernel.k_function(x,model.SV[i],model.param);<br /><br />&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; int[] start = new int[nr_class];<br />&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; start[0] = 0;<br />&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; for(i=1;i&lt;nr_class;i++)<br />&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; start[i] = start[i-1]+model.nSV[i-1];<br /><br />&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; double[] vote = new double[nr_class];<br /><br />&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; int p=0;<br />&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; for(i=0;i&lt;nr_class;i++)<br />&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; for(int j=i+1;j&lt;nr_class;j++)<br />&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; {<br />&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; double sum = 0;<br />&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; int si = start[i];<br />&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; int sj = start[j];<br />&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; int ci = model.nSV[i];<br />&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; int cj = model.nSV[j];<br />&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; <br />&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; int k;<br />&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; double[] coef1 = model.sv_coef[j-1];<br />&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; double[] coef2 = model.sv_coef[i];<br />&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; for(k=0;k&lt;ci;k++)<br />&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; sum += coef1[si+k] * kvalue[si+k];<br />&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; for(k=0;k&lt;cj;k++)<br />&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; sum += coef2[sj+k] * kvalue[sj+k];<br />&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; sum -= model.rho[p];<br /><br />&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; if(sum &gt; 0)<br />&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; ++vote[i];<br />&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; else if (sum &lt; 0)<br />&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; ++vote[j];<br />&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; else{<br />&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; vote[i]+=0.5<br />&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; vote[i]+=0.5<br />&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; }<br />&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; p++;<br />&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; }<br />&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; return vote;<br />&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; }<br />&nbsp;&nbsp;&nbsp; }<br /></span></p>

            
        </div>
    
    

                            </div>
                            



    <div class="visualClear"><!-- --></div>

    <div class="documentActions">
        

        

    </div>


                        

                      
                    </div>
                    

                    

                    <span id="contentBottomLeft3"></span>
                    <span id="contentBottomRight3"></span>

                </div>
              
	      
              <div id="viewlet-below-content">





</div>

            </div>
            </div>
            

            
                
                <div id="portal-column-two">
                  <div class="visualPadding">
                    
                      
<div class="portletWrapper" data-portlethash="706c6f6e652e7269676874636f6c756d6e0a636f6e746578740a2f506c6f6e650a6b6f6e7461636b74" id="portletwrapper-706c6f6e652e7269676874636f6c756d6e0a636f6e746578740a2f506c6f6e650a6b6f6e7461636b74">
<dl class="portlet portletStaticText portlet-static-kontakt">

    <dt class="portletHeader">
        <span class="portletTopLeft"></span>
        <span>
           Kontakt
        </span>
        <span class="portletTopRight"></span>
    </dt>

    <dd class="portletItem odd">
        
<dl class="portlet portletStaticText portlet-static-kontakt"><dd class="portletItem odd">
<p><img src="../../images/keicon.png" alt="small ke-icon" class="image-inline" title="keicon.png" /></p>
<p>
  Knowledge Engineering Group</p>
<p>
  <a class="external-link" href="http://www.informatik.tu-darmstadt.de">Fachbereich
  Informatik</a><br />
  <a class="external-link" href="http://www.tu-darmstadt.de">TU Darmstadt</a></p>
<p>
  <a href="../../anfahrt.html">S2|02 D203<br />
  Hochschulstrasse 10</a><br />
  D-64289 Darmstadt</p>
<p>
  Sekretariat:<br />
<img src="../../images/telefon.png" alt="Telefon-Symbol" class="image-inline" title="telefon.png" />+49 6151 16-21811<br />

  <img src="../../images/fax.png" alt="Fax-Symbol" class="image-inline" title="fax.png" /> +49 6151 16-<span style="text-align: justify;">21812</span><br />

  <img src="../../images/email.png" alt="E-Mail-Symbol" class="image-inline" title="email.png" /> <a href="mailto:info@ke.tu-darmstadt.de">info@ke.tu-darmstadt.de</a></p>
</dd></dl>

        
            <span class="portletBottomLeft"></span>
            <span class="portletBottomRight"></span>
        
    </dd>
    
    

</dl>
</div>

<div class="portletWrapper" data-portlethash="706c6f6e652e7269676874636f6c756d6e0a636f6e746578740a2f506c6f6e650a6b652d7075626c69632d6b616c656e646572" id="portletwrapper-706c6f6e652e7269676874636f6c756d6e0a636f6e746578740a2f506c6f6e650a6b652d7075626c69632d6b616c656e646572">
<dl class="portlet portletStaticText portlet-static-ke-public-kalender">

    <dt class="portletHeader">
        <span class="portletTopLeft"></span>
        <span>
           KE Public Kalender
        </span>
        <span class="portletTopRight"></span>
    </dt>

    <dd class="portletItem odd">
        <a href="../../termine.html" class="external-link">Click here to see upcoming appointments.</a>
<p>&nbsp;</p>

        
            <span class="portletBottomLeft"></span>
            <span class="portletBottomRight"></span>
        
    </dd>
    
    

</dl>
</div>




                    
                    &nbsp;
                  </div>
                </div>
                
            
          </div>
      

      <div class="visualClear" id="clear-space-before-footer"><!-- --></div>

    </div>
   </div>
<div id="kss-spinner"><img alt="" src="http://www.ke.tu-darmstadt.de/spinner.png" /></div>
<div id="fussbereich_container">
<div id="schatten_unten"></div>

<div id="fussbereich">
<a id="schrift_kleiner" href="javascript:fontsize('dekrement')" title="Schrift verkleinern">A</a>
<a id="schrift_normal" href="javascript:fontsize('reset')" title="Schriftgröße zurücksetzen">A</a>
<a id="schrift_groesser" href="javascript:fontsize('inkrement')" title="Schrift vergrößern">A</a> |
<a href="javascript:this.print()"><img src="../../drucken1.png" alt="" /> Drucken</a>
| <a accesskey="8" title="Alt(+Shift)+8" href="../../impressum.html"><img src="../../impressum.png" alt="" /> Impressum</a>
| <a accesskey="3" title="Alt(+Shift)+3" href="../../sitemap.html"><img src="../../sitemap2.png" alt="" /> Sitemap</a>
| <a href="../../search.html"><img src="../../suche.png" alt="" /> Suche</a>
| <a href="http://www.ke.tu-darmstadt.de/m/">Mobile Version</a>
</div><!-- fussbereich -->
<div id="nach_oben"><div class="nach_oben"><a href="index.html#top" title="zum Seitenanfang"><img id="png" src="../../zum_seitenanfang.png" alt="zum Seitenanfang" /><img id="gif" src="../../zum_seitenanfang_ie6.gif" alt="zum Seitenanfang" /></a></div></div><!-- nach_oben -->
</div><!-- fussbereich_container -->
</body>
</html>


